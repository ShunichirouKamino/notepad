## ユースケース（最小限）

ユースケースとして、マッチングをすることのみに特化した最小限の機能です。

-   ロールとしては「質問者」と「回答者」が居ますが、両者はどちらにでも成りうるため、明確に区別はされません。
-   投稿した質問にはステータスが有り、「回答待ち（回答者が居ない）」、「回答中（回答者とマッチング済み）」、「回答済み（回答完了、マッチング完了）」となります。
-   掲示板に質問が有ります。質問者は、掲示板に投稿する形で質問を投げます。
-   質問に回答をする人は、掲示板から投稿一覧を確認することで、「興味あり」を送信することができます。
-   マッチング済み一覧画面では、「申請済み」、「申請をされた」、「マッチング済み」のステータスに応じた一覧を確認できます。マッチング済みであれば、メッセージが遅れます。
-   自分のプロフィールを修正することができます。
-   ログイン／新規登録からメイン画面への流れは割愛します。

```mermaid
graph TD
  A[ログイン画面] --> B[新規登録画面]
  A --> C[メイン画面]
  B --> C
  C -->|掲示板投稿| D[投稿作成画面]
  C -->|掲示板閲覧| E[投稿一覧画面]
  D --> E
  E --> F[投稿詳細画面]
  F -->|興味ありボタン| G[マッチング申請中一覧画面]
  F -->|戻る| E
  G -->|戻る| C
  C -->|マッチングリスト| I[マッチング済み一覧画面]
  I --> J[メッセージ画面]
  J -->|戻る| I
  C -->|プロフィール| K[プロフィール画面]
  K -->|編集| L[プロフィール編集画面]
  L -->|保存| K
```

## ユースケース（課金の追加）

最小限のユースケースに課金の仕組みを追加しました。課金の発生するユースケースは以下の通りです。

-   質問者は、質問を作成する時点で報酬額を設定します。
-   回答者は、投稿詳細から「興味あり」とした場合、交渉中の一覧に追加されます。
-   交渉中の一覧では、金額の交渉をします。（交渉削っても良いかも？）

```mermaid
graph TD
  A["ログイン画面"] -->|新規登録| B["新規登録画面"]
  A -->|ログイン| C["メイン画面"]
  B -->|登録| C
  C -->|掲示板投稿| D["投稿作成画面"]
  D -->|報酬額設定| E["報酬額設定画面"]
  E -->|投稿| F["投稿一覧画面"]
  C -->|掲示板閲覧| F
  F --> G["投稿詳細画面"]
  G -->|回答する| K["メッセージ画面"]
  G -->|交渉する| M["メッセージ画面"]
  G -->|戻る| F
  C -->|マッチングリスト| I["マッチング一覧画面"]

  subgraph "以下はタブで切り替えることが可能"
  I -->|1. 既にマッチングをした人| J["マッチング済み一覧画面"]
  J --> K["メッセージ画面"]
  K -->|戻る| J
  I -->|2. 未だマッチングしていないが申請中の一覧| L["交渉中一覧画面"]
  L --> M["メッセージ画面"]
  M -->|戻る| L
  I -->|3. 質問者の立場で申請を受けている一覧| N["受けている申請一覧画面"]
  N --> O["メッセージ画面"]
  O -->|戻る| N
  end

  C -->|プロフィール| P["プロフィール画面"]
  P -->|編集| Q["プロフィール編集画面"]
  Q -->|保存| P
```

## ユースケース（再回答の募集）

ここまでのユースケースでは、1件の質問に対して1人の回答者がマッチし、回答して金銭が発生することでその質問はクローズしてしまいます。
更に公募し、再度質問を投げる仕組みを追加すると以下のようになります。

-   自分の質問した質問の一覧が見れる。
    -   この一覧から、再度質問を募集することが可能。
-   自分の回答した質問の一覧が見れる。


-   （悩み中）
    -   メルカリの金額交渉のように、オープンなスペースで交渉する
    -   privateなスペースで、メッセージで交渉するか
    -   もしくは交渉機能自体削るか

#### プロフィール編集機能

```mermaid
graph TD
  A["ログイン画面"] -->|新規登録| B["新規登録画面"]
  A -->|ログイン| C["メイン画面"]
  B -->|登録| C
  C -->|プロフィール| D["プロフィール画面"]
  D -->|編集| E["プロフィール編集画面"]
  E -->|保存| D
```

#### 掲示板投稿機能

```mermaid
graph TD
  A["メイン画面"] -->|掲示板投稿| B["投稿作成画面"]
  B -->|プレビュー| E["投稿詳細画面"]
  E -->|戻る| B
  B -->|報酬額設定| C["報酬額設定画面"]
  B -->|保存する| B
  C -->|投稿| D["投稿一覧画面"]
  A -->|掲示板閲覧| D
  D --> E["投稿詳細画面"]
  E -->|交渉する| F["メッセージ画面"]
  E -->|再投稿| C["報酬額設定画面"]
  E -->|戻る| D
  A -->|プロフィール| G["プロフィール画面"]
  G -->|自分の投稿一覧| H["自分の投稿一覧画面"]
  H -->|詳細| E["投稿詳細画面"]
  H -->|戻る| G
  G -->|自分が回答した一覧| I["自分が回答した一覧画面"]
  I -->|詳細| E["投稿詳細画面"]
  I -->|戻る| G
  J["マッチング済み一覧画面"] -->|回答する| K["回答画面"]
  K -->|保存する| K
  K -->|回答を完了する| E["投稿詳細画面"]
  E -->|回答する| K
  K -->|戻る| J["マッチング済み一覧画面"]

  subgraph "メッセージ機能"
  J
  end
```

#### メッセージ機能

```mermaid
graph TD
  A["メイン画面"] -->|マッチングリスト| B["マッチング一覧画面"]

  subgraph "メッセージ機能"
  B -->|1. 既にマッチングをした人| C["マッチング済み一覧画面"]
  C --> I["メッセージ画面"]
  I -->|戻る| C
  B -->|2. 未だマッチングしていないが申請中の一覧| D["交渉中一覧画面"]
  D --> E["メッセージ画面"]
  E -->|戻る| D
  B -->|3. 質問者の立場で申請を受けている一覧| F["受けている申請一覧画面"]
  F --> G["メッセージ画面"]
  G -->|戻る| F
  end

  C["マッチング済み一覧画面"] -->|回答する| H["回答画面"]
  H -->|保存する| H
  H -->|戻る| C["マッチング済み一覧画面"]
```
